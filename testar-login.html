<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Login - Fam√≠lia Jamar</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #d1ecf1; color: #0c5460; }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #0056b3; }
        input {
            padding: 8px;
            margin: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>üß™ Teste do Sistema de Login - Fam√≠lia Jamar</h1>
    
    <div class="test-section">
        <h2>1. Verificar localStorage</h2>
        <div id="localStorageStatus"></div>
        <button onclick="verificarLocalStorage()">Verificar localStorage</button>
        <button onclick="limparLocalStorage()">Limpar localStorage</button>
    </div>
    
    <div class="test-section">
        <h2>2. Testar Credenciais</h2>
        <input type="text" id="testUsername" placeholder="Usu√°rio" value="jamar">
        <input type="password" id="testPassword" placeholder="Senha" value="familia2024">
        <button onclick="testarCredenciais()">Testar Login</button>
        <div id="credentialStatus"></div>
    </div>
    
    <div class="test-section">
        <h2>3. Testar Redirecionamento</h2>
        <button onclick="testarRedirecionamento()">Testar Redirecionamento</button>
        <div id="redirectStatus"></div>
    </div>
    
    <div class="test-section">
        <h2>4. Links de Teste</h2>
        <a href="index.html" target="_blank"><button>P√°gina Inicial</button></a>
        <a href="login.html" target="_blank"><button>Tela de Login</button></a>
        <a href="index-wix.html" target="_blank"><button>Sistema Principal</button></a>
    </div>

    <script>
        // Credenciais v√°lidas
        const CREDENCIAIS_VALIDAS = {
            'jamar': 'familia2024',
            'admin': 'admin123',
            'teste': 'teste123'
        };

        function verificarLocalStorage() {
            const loginTime = localStorage.getItem('loginTime');
            const username = localStorage.getItem('username');
            const statusDiv = document.getElementById('localStorageStatus');
            
            if (loginTime && username) {
                const now = new Date().getTime();
                const loginTimeStamp = parseInt(loginTime);
                const hoursDiff = (now - loginTimeStamp) / (1000 * 60 * 60);
                
                statusDiv.innerHTML = `
                    <div class="status success">
                        ‚úÖ Usu√°rio logado: ${username}<br>
                        ‚è∞ Login feito h√°: ${hoursDiff.toFixed(2)} horas<br>
                        üìÖ Data do login: ${new Date(parseInt(loginTime)).toLocaleString()}
                    </div>
                `;
            } else {
                statusDiv.innerHTML = `
                    <div class="status error">
                        ‚ùå Nenhum usu√°rio logado
                    </div>
                `;
            }
        }

        function limparLocalStorage() {
            localStorage.removeItem('loginTime');
            localStorage.removeItem('username');
            document.getElementById('localStorageStatus').innerHTML = `
                <div class="status info">
                    üóëÔ∏è localStorage limpo
                </div>
            `;
        }

        function testarCredenciais() {
            const username = document.getElementById('testUsername').value;
            const password = document.getElementById('testPassword').value;
            const statusDiv = document.getElementById('credentialStatus');
            
            if (CREDENCIAIS_VALIDAS[username] && CREDENCIAIS_VALIDAS[username] === password) {
                statusDiv.innerHTML = `
                    <div class="status success">
                        ‚úÖ Credenciais v√°lidas!<br>
                        üë§ Usu√°rio: ${username}<br>
                        üîê Senha: ${password}
                    </div>
                `;
            } else {
                statusDiv.innerHTML = `
                    <div class="status error">
                        ‚ùå Credenciais inv√°lidas!<br>
                        üë§ Usu√°rio: ${username}<br>
                        üîê Senha: ${password}
                    </div>
                `;
            }
        }

        function testarRedirecionamento() {
            const loginTime = localStorage.getItem('loginTime');
            const username = localStorage.getItem('username');
            const statusDiv = document.getElementById('redirectStatus');
            
            if (!loginTime || !username) {
                statusDiv.innerHTML = `
                    <div class="status info">
                        üîÑ Redirecionaria para: login.html
                    </div>
                `;
            } else {
                const now = new Date().getTime();
                const loginTimeStamp = parseInt(loginTime);
                const hoursDiff = (now - loginTimeStamp) / (1000 * 60 * 60);
                
                if (hoursDiff > 24) {
                    statusDiv.innerHTML = `
                        <div class="status error">
                            ‚è∞ Sess√£o expirada!<br>
                            üîÑ Redirecionaria para: login.html
                        </div>
                    `;
                } else {
                    statusDiv.innerHTML = `
                        <div class="status success">
                            ‚úÖ Sess√£o v√°lida!<br>
                            üîÑ Redirecionaria para: index-wix.html
                        </div>
                    `;
                }
            }
        }

        // Executar verifica√ß√£o inicial
        window.addEventListener('load', function() {
            verificarLocalStorage();
        });
    </script>
</body>
</html> 